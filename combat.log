loading map from samples/map_with_obstacles/maps/game_map
Creating new event manager
==== Player Character ====
str: 10 dex: 15 con: 14 int: 18 wis: 12 cha: 8 
name: Joe
level: 2
character class: {'wizard': 2}
hp: 14
max hp: 14
ac: 12
speed: 30
spell slots level 1: 3



==== Player Character ====
str: 11 dex: 20 con: 16 int: 11 wis: 12 cha: 17 
name: Mike
level: 2
character class: {'rogue': 2}
hp: 18
max hp: 18
ac: 16
speed: 25



Setting up custom agent for enemy player Custom LLM Agent
Joe rolled initiative d20(20) + 2 value 22.15
Mike rolled initiative d20(7) + 5 value 12.2
Joe starts their turn.
Joe starts their turn.
=========================================
Battle between an RL agent vs a LLM agent
=========================================
____________
____________
____________
____________
_____.......
_____...E.. 
_____.P.#   
_____.~~~~. 
_____~~~....
_____~~.....
____________
____________
0: attack enemy with ranged weapon: dagger -4.056437969207764
1: dash action -4.678478717803955
2: disengage action -4.370826721191406
3: dodge action -4.1361894607543945
4: move 5ft up and to the left -4.277071475982666
5: move 5ft to the left -4.29649019241333
6: move 5ft down and to the left -4.209997177124023
7: move 5ft up -4.185105800628662
8: move 5ft down -4.096865653991699
9: move 5ft up and to the right -4.024505138397217
10: move 5ft to the right -3.9861278533935547
11: move 5ft down and to the right -3.9097135066986084
12: go prone -4.463817596435547
13: cast the  chill_touch spell -2.4699888229370117
14: cast the  firebolt spell -3.6603493690490723
15: cast the  ray_of_frost spell -3.4243953227996826
16: cast the  mage_armor spell -3.4027512073516846
17: cast the  magic_missile spell -3.6012401580810547
18: end my turn -4.036405086517334
Chosen index: 13
selected action: (12, (-1, -1), (0, 0), 104, 0)
Joe attacked Mike with spell.chill_touch and hits with attack roll d20(19) + 6 = 25.
Mike took 3 damage.
____________
____________
____________
____________
_____.......
_____...E.. 
_____.P.#   
_____.~~~~. 
_____~~~....
_____~~.....
____________
____________
0: move 5ft up and to the left -3.668816566467285
1: move 5ft to the left -3.6798930168151855
2: move 5ft down and to the left -3.676563262939453
3: move 5ft up -3.630053997039795
4: move 5ft down -3.6152257919311523
5: move 5ft up and to the right -3.4976134300231934
6: move 5ft to the right -3.4759702682495117
7: move 5ft down and to the right -3.4224491119384766
8: go prone -3.9009056091308594
9: end my turn -2.9839119911193848
Chosen index: 9
==== end turn ===
Joe 14/14
spell slots level 1: 3
Mike 15/18
Mike starts their turn.
==== current turn Mike 15/18 AC 16===
prompt: -------------------------------
We are playing a game of Dungeons and Dragons 5th Edition. It is current your turn and you play 
as a hero character denoted by P (a level 2 rogue). And you have an enemy donoted by E (a level 2 wizard)which you must defeat. 
Your health is at [83.33333333]% specifically 15/18 
Your Enemies health is at [100.]%
Your current conditions are:
Your enemies current conditions are:
You have the following available actions and movement available:

Available movement: [25]ft
Available actions: 1
Bonus actions: 1
Reactions: 1



Here is a rough sketch of the map that considers line of sight to the enemy.
Here is the map:
____________
____________
____________
____________
____________
___.......__
___...P...__
___.E.*...__
___.~~ ~..__
___~~   ..__
___~~   ..__
____________
areas with no characters are represented by a dot (.)
the hero character is represented by a (P)
the enemy character is represented by an (E)
Allies or Party Members are represented by an (A)
Neutral characters are represented by a question mark (?)
areas outside of the map are represented by a hash (_), you cannot move to areas with _
areas with obstacles are represented by an asterisk (*)
areas with a barrel are represented by an (o). These provide half-cover if right behind it and attacks are comming from the other side.
areas with water are represented by a tilde (~) and are difficult terrain
areas that the player can't see are just blanks/space
Each tile of the map is 5ft by 5ft.



Here are the available actions you can take, please choose the number corresponding to the action:
0: end my turn
1: attack enemy with ranged weapon: dagger
2: attack enemy with ranged weapon: dagger
3: dash action
4: dash as bonus action
5: disengage action
6: disengage as bonus action action
7: dodge action
8: move 5ft up and to the left
9: move 5ft to the left
10: move 5ft down and to the left
11: move 5ft up
12: move 5ft up and to the right
13: move 5ft to the right
14: move 5ft down and to the right
15: go prone
16: end my turn


Please choose the number corresponding to the action you would like to take.
Provide your answer using the format, starting with the desired number choice, followed by the colon and the action.
1: attack enemy with ranged weapon
Just provide the action choice, no need to explain.

---------------------------------
{'action': 9}
response time: 1.4391560554504395
Mike moved to [2, 1] 5 feet
prompt: -------------------------------
We are playing a game of Dungeons and Dragons 5th Edition. It is current your turn and you play 
as a hero character denoted by P (a level 2 rogue). And you have an enemy donoted by E (a level 2 wizard)which you must defeat. 
Your health is at [83.33333333]% specifically 15/18 
Your Enemies health is at [100.]%
Your current conditions are:
Your enemies current conditions are:
You have the following available actions and movement available:

Available movement: [20]ft
Available actions: 1
Bonus actions: 1
Reactions: 1



Here is a rough sketch of the map that considers line of sight to the enemy.
Here is the map:
____________
____________
____________
____________
____________
____......._
____..P...._
____.E.* .._
____.~~    _
____~~~.   _
____~~..   _
____________
areas with no characters are represented by a dot (.)
the hero character is represented by a (P)
the enemy character is represented by an (E)
Allies or Party Members are represented by an (A)
Neutral characters are represented by a question mark (?)
areas outside of the map are represented by a hash (_), you cannot move to areas with _
areas with obstacles are represented by an asterisk (*)
areas with a barrel are represented by an (o). These provide half-cover if right behind it and attacks are comming from the other side.
areas with water are represented by a tilde (~) and are difficult terrain
areas that the player can't see are just blanks/space
Each tile of the map is 5ft by 5ft.



Here are the available actions you can take, please choose the number corresponding to the action:
0: end my turn
1: attack enemy with melee weapon: dagger
2: attack enemy with ranged weapon: dagger
3: attack enemy with melee weapon: dagger
4: attack enemy with ranged weapon: dagger
5: attack enemy with melee weapon: torch
6: attack enemy with melee weapon: unarmed_attack
7: dash action
8: dash as bonus action
9: disengage action
10: disengage as bonus action action
11: dodge action
12: move 5ft up and to the left
13: move 5ft to the left
14: move 5ft up
15: move 5ft down
16: move 5ft up and to the right
17: move 5ft to the right
18: go prone
19: end my turn


Please choose the number corresponding to the action you would like to take.
Provide your answer using the format, starting with the desired number choice, followed by the colon and the action.
1: attack enemy with ranged weapon
Just provide the action choice, no need to explain.

---------------------------------
{'action': 2}
response time: 0.9479401111602783
Mike attacked Joe with disadvantage['ranged_with_enemy_in_melee'] with Dagger(thrown) and hits with attack roll d20(18 | 7*) + 7 = 14.
Joe took 7 damage.
prompt: -------------------------------
We are playing a game of Dungeons and Dragons 5th Edition. It is current your turn and you play 
as a hero character denoted by P (a level 2 rogue). And you have an enemy donoted by E (a level 2 wizard)which you must defeat. 
Your health is at [83.33333333]% specifically 15/18 
Your Enemies health is at [50.]%
Your current conditions are:
Your enemies current conditions are:
You have the following available actions and movement available:

Available movement: [20]ft
Available actions: 0
Bonus actions: 1
Reactions: 1



Here is a rough sketch of the map that considers line of sight to the enemy.
Here is the map:
____________
____________
____________
____________
____________
____......._
____..P...._
____.E.* .._
____.~~    _
____~~~.   _
____~~..   _
____________
areas with no characters are represented by a dot (.)
the hero character is represented by a (P)
the enemy character is represented by an (E)
Allies or Party Members are represented by an (A)
Neutral characters are represented by a question mark (?)
areas outside of the map are represented by a hash (_), you cannot move to areas with _
areas with obstacles are represented by an asterisk (*)
areas with a barrel are represented by an (o). These provide half-cover if right behind it and attacks are comming from the other side.
areas with water are represented by a tilde (~) and are difficult terrain
areas that the player can't see are just blanks/space
Each tile of the map is 5ft by 5ft.



Here are the available actions you can take, please choose the number corresponding to the action:
0: end my turn
1: dash as bonus action
2: disengage as bonus action action
3: move 5ft up and to the left
4: move 5ft to the left
5: move 5ft up
6: move 5ft down
7: move 5ft up and to the right
8: move 5ft to the right
9: go prone
10: two weapon attack bonus action
11: two weapon attack bonus action
12: two weapon attack bonus action
13: two weapon attack bonus action
14: end my turn


Please choose the number corresponding to the action you would like to take.
Provide your answer using the format, starting with the desired number choice, followed by the colon and the action.
1: attack enemy with ranged weapon
Just provide the action choice, no need to explain.

---------------------------------
{'action': 8}
response time: 1.212907075881958
Mike moved to [3, 1] 5 feet
prompt: -------------------------------
We are playing a game of Dungeons and Dragons 5th Edition. It is current your turn and you play 
as a hero character denoted by P (a level 2 rogue). And you have an enemy donoted by E (a level 2 wizard)which you must defeat. 
Your health is at [83.33333333]% specifically 15/18 
Your Enemies health is at [50.]%
Your current conditions are:
Your enemies current conditions are:
You have the following available actions and movement available:

Available movement: [15]ft
Available actions: 0
Bonus actions: 1
Reactions: 1



Here is a rough sketch of the map that considers line of sight to the enemy.
Here is the map:
____________
____________
____________
____________
____________
___.......__
___...P...__
___.E.*...__
___.~~ ~..__
___~~   ..__
___~~   ..__
____________
areas with no characters are represented by a dot (.)
the hero character is represented by a (P)
the enemy character is represented by an (E)
Allies or Party Members are represented by an (A)
Neutral characters are represented by a question mark (?)
areas outside of the map are represented by a hash (_), you cannot move to areas with _
areas with obstacles are represented by an asterisk (*)
areas with a barrel are represented by an (o). These provide half-cover if right behind it and attacks are comming from the other side.
areas with water are represented by a tilde (~) and are difficult terrain
areas that the player can't see are just blanks/space
Each tile of the map is 5ft by 5ft.



Here are the available actions you can take, please choose the number corresponding to the action:
0: end my turn
1: dash as bonus action
2: disengage as bonus action action
3: move 5ft up and to the left
4: move 5ft to the left
5: move 5ft down and to the left
6: move 5ft up
7: move 5ft up and to the right
8: move 5ft to the right
9: move 5ft down and to the right
10: go prone
11: two weapon attack bonus action
12: two weapon attack bonus action
13: end my turn


Please choose the number corresponding to the action you would like to take.
Provide your answer using the format, starting with the desired number choice, followed by the colon and the action.
1: attack enemy with ranged weapon
Just provide the action choice, no need to explain.

---------------------------------
{'action': 8}
response time: 0.8859164714813232
Mike moved to [4, 1] 5 feet
prompt: -------------------------------
We are playing a game of Dungeons and Dragons 5th Edition. It is current your turn and you play 
as a hero character denoted by P (a level 2 rogue). And you have an enemy donoted by E (a level 2 wizard)which you must defeat. 
Your health is at [83.33333333]% specifically 15/18 
Your Enemies health is at [50.]%
Your current conditions are:
Your enemies current conditions are:
You have the following available actions and movement available:

Available movement: [10]ft
Available actions: 0
Bonus actions: 1
Reactions: 1



Here is a rough sketch of the map that considers line of sight to the enemy.
Here is the map:
____________
____________
____________
____________
____________
__.......___
__....P..___
__.E *...___
__    ~..___
__   ....___
__   ....___
____________
areas with no characters are represented by a dot (.)
the hero character is represented by a (P)
the enemy character is represented by an (E)
Allies or Party Members are represented by an (A)
Neutral characters are represented by a question mark (?)
areas outside of the map are represented by a hash (_), you cannot move to areas with _
areas with obstacles are represented by an asterisk (*)
areas with a barrel are represented by an (o). These provide half-cover if right behind it and attacks are comming from the other side.
areas with water are represented by a tilde (~) and are difficult terrain
areas that the player can't see are just blanks/space
Each tile of the map is 5ft by 5ft.



Here are the available actions you can take, please choose the number corresponding to the action:
0: end my turn
1: dash as bonus action
2: disengage as bonus action action
3: move 5ft up and to the left
4: move 5ft to the left
5: move 5ft up
6: move 5ft down
7: move 5ft up and to the right
8: move 5ft to the right
9: move 5ft down and to the right
10: go prone
11: two weapon attack bonus action
12: two weapon attack bonus action
13: end my turn


Please choose the number corresponding to the action you would like to take.
Provide your answer using the format, starting with the desired number choice, followed by the colon and the action.
1: attack enemy with ranged weapon
Just provide the action choice, no need to explain.

---------------------------------
{'action': 11}
response time: 0.9761152267456055
Mike attacked Joe with Dagger(thrown) and hits with attack roll d20(6) + 7 = 13.
Joe unconscious.
Joe took 8 damage.
Result: tpk
____________
____________
____________
____________
____________
__.......___
__....P..___
__.E #...___
__    ~..___
__   ....___
__   ....___
____________
Reward: -10
